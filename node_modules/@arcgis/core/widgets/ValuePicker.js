/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as e}from"tslib";import{destroyMaybe as t}from"../core/maybe.js";import{on as o}from"../core/reactiveUtils.js";import{property as i}from"../core/accessorSupport/decorators/property.js";import"../core/has.js";import"../core/Logger.js";import"../core/RandomLCG.js";import{subclass as s}from"../core/accessorSupport/decorators/subclass.js";import l from"./Widget.js";import{loadCalciteComponents as r}from"./support/componentsUtils.js";import{globalCss as a}from"./support/globalCss.js";import"./support/widgetUtils.js";import{messageBundle as n}from"./support/decorators/messageBundle.js";import{vmEvent as p}from"./support/decorators/vmEvent.js";import{tsx as c}from"./support/jsxFactory.js";import"@arcgis/toolkit/dom";import m from"./ValuePicker/ValuePickerCollection.js";import u from"./ValuePicker/ValuePickerCombobox.js";import d from"./ValuePicker/ValuePickerLabel.js";import h from"./ValuePicker/ValuePickerSlider.js";import v from"./ValuePicker/ValuePickerViewModel.js";import y from"./ValuePicker/ValuePickerVisibleElements.js";const b="esri-value-picker",g={actionBar:`${b}__action-bar`,caption:`${b}__caption`,captionBorder:`${b}__caption-border`,captionText:`${b}__caption-text`,separator:`${b}__separator`},w={base:null,key:"type",typeMap:{collection:m,combobox:u,label:d,slider:h}};let M=class extends l{constructor(e,t){super(e,t),this.caption=null,this.messages=null,this.messagesCommon=null,this.viewModel=new v,this.visibleElements=new y}initialize(){this.addHandles([o(()=>this.viewModel,"animate",({first:e})=>{this.component?.animate(e)}),o(()=>this.viewModel,"next",()=>{this.component?.next()}),o(()=>this.viewModel,"previous",()=>{this.component?.previous()})])}destroy(){this.component=t(this.component)}loadDependencies(){return r({action:()=>import("@esri/calcite-components/dist/components/calcite-action"),"action-bar":()=>import("@esri/calcite-components/dist/components/calcite-action-bar")})}get canNext(){return this.component?.canNext??!0}get canPlay(){return this.component?.canPlay??!0}get canPrevious(){return this.component?.canPrevious??!0}set component(e){const t=this._get("component");e!==t&&(t?.viewModel===this.viewModel&&(t.viewModel=null),e&&t?.destroy()),e&&(e.viewModel??=this.viewModel),this._set("component",e)}get disabled(){return this.viewModel.disabled}set disabled(e){this.viewModel.disabled=e}get icon(){return"list-rectangle"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get layout(){return this.viewModel.layout}set layout(e){this.viewModel.layout=e}get loop(){return this.viewModel.loop}set loop(e){this.viewModel.loop=e}get playRate(){return this.viewModel.playRate}set playRate(e){this.viewModel.playRate=e}get values(){return this.viewModel.values}set values(e){this.viewModel.values=e}next(){this.viewModel.next()}pause(){this.viewModel.pause()}play(){this.viewModel.play()}previous(){this.viewModel.previous()}render(){const{disabled:e,state:t}=this.viewModel,o="playing"===t,i="horizontal"===this.layout,{control:s,pagination:l}=this.messagesCommon,{pause:r,play:n}=s,{previous:p,up:m,next:u,down:d}=l,h=o?r:n,v=this.visibleElements.playButton&&c("calcite-action",{active:o,alignment:"center",bind:this,disabled:e||!this.canPlay,icon:o?"pause":"play",key:"play",onclick:o?this.pause:this.play,text:h,title:h}),y=i?p:m,w=this.visibleElements.previousButton&&c("calcite-action",{alignment:"center",bind:this,disabled:e||o||!this.canPrevious,icon:i?"chevron-left":"chevron-up",key:"previous",onclick:this.previous,text:y,title:y}),M=i?u:d,x=this.visibleElements.nextButton&&c("calcite-action",{alignment:"center",bind:this,disabled:e||o||!this.canNext,icon:i?"chevron-right":"chevron-down",key:"next",onclick:this.next,text:M,title:M}),k=this.caption&&c("div",{class:g.caption},c("div",{class:g.captionBorder},c("div",{class:g.captionText},this.caption))),P="combobox"===this.component?.type||"label"===this.component?.type||"slider"===this.component?.type,f=(v||w||x)&&(k||P)&&c("div",{class:g.separator}),j=this.component?.render();return c("div",{"aria-label":this.label,class:this.classes(b,a.widget,`${b}__layout--${this.layout}`,`${b}__type--${this.component?.type}`)},c("calcite-action-bar",{class:g.actionBar,expandDisabled:!0,layout:this.layout},[v,w,x,f,k,j]))}};e([i()],M.prototype,"canNext",null),e([i()],M.prototype,"canPlay",null),e([i()],M.prototype,"canPrevious",null),e([i()],M.prototype,"caption",void 0),e([i({types:w,value:null})],M.prototype,"component",null),e([i()],M.prototype,"disabled",null),e([i()],M.prototype,"icon",null),e([i()],M.prototype,"label",null),e([i()],M.prototype,"layout",null),e([i()],M.prototype,"loop",null),e([i(),n("esri/widgets/ValuePicker/t9n/ValuePicker")],M.prototype,"messages",void 0),e([i(),n("esri/t9n/common")],M.prototype,"messagesCommon",void 0),e([i()],M.prototype,"playRate",null),e([i()],M.prototype,"values",null),e([i(),p(["animate","next","pause","play","previous"])],M.prototype,"viewModel",void 0),e([i({type:y,nonNullable:!0})],M.prototype,"visibleElements",void 0),M=e([s("esri.widgets.ValuePicker")],M);const x=M;export{x as default};
