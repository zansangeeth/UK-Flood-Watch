/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{reallocGrowthFactor as t}from"../../../../core/arrayUtils.js";function n(n,i,r){const o=n.count;if(i>=o)return;n.pickability??=new Uint32Array(0);let u=n.pickability;const l=e(u),a=i/l|0,f=i-l*a,s=(o-1)/l|0,h=u;if(!(i<h.length*l)&&!r){const i=a+1,r=Math.ceil(h.length*t),e=s+1;let c=Math.max(i,r);c=Math.min(c,e),n.pickability=u=new Uint32Array(c),u.set(h)}a<u.length&&(u[a]=c(u[a],f,!r))}function i(t,n){if(null==t)return!0;const i=e(t);return!(n<t.length*i)||r(t,n,i)}function r(t,n,i){const r=n/i|0,e=n-r*i;return!o(t[r],e)}function e(t){const n=8;return t.BYTES_PER_ELEMENT*n}function c(t,n,i){return t&~(1<<n)|(i?1:0)<<n}function o(t,n){return!!(t&1<<n)}export{i as getVisibility,n as updatePickabilityWithCount};
