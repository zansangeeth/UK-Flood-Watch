/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as o}from"tslib";import t from"./WebDocument2D.js";import r from"./core/Collection.js";import e from"./core/Error.js";import{loadAll as s}from"./core/loadAll.js";import{property as i}from"./core/accessorSupport/decorators/property.js";import"./core/has.js";import"./core/Logger.js";import"./core/RandomLCG.js";import{subclass as p}from"./core/accessorSupport/decorators/subclass.js";import n from"./networks/UtilityNetwork.js";import m from"./webdoc/GeotriggersInfo.js";import a from"./webdoc/IPSInfo.js";import c from"./webmap/InitialViewProperties.js";import{currentVersion as l}from"./webmap/utils.js";import{Version as f}from"./webmap/Version.js";const u={currentVersion:l,createInitialViewProperties:()=>new c,parseVersion:f.parse,itemType:"Web Map",name:"webmap",origin:"web-map"},w=r.ofType(n);let y=class extends t{constructor(o){super(o),this.geotriggersInfo=null,this.ipsInfo=null,this.presentation=null,this.utilityNetworks=null}destroy(){if(this.utilityNetworks){const o=this.utilityNetworks.removeAll();for(const t of o)t.destroy();this.utilityNetworks.destroy()}}get context(){return u}loadAll(){return s(this,o=>{o(this.ground,this.basemap,this.layers,this.tables,this.ipsInfo?.positioningService?.portalItem)})}static fromJSON(o){if(o)return new this({resourceInfo:o});throw new e("webmap:empty-resource","Expected a JSON resource but got nothing")}static{this.VERSION=l}};o([i({type:m,json:{write:!0}})],y.prototype,"geotriggersInfo",void 0),o([i({type:a,json:{write:!0,name:"mapIPSInfo"}})],y.prototype,"ipsInfo",void 0),o([i({json:{write:!0}})],y.prototype,"presentation",void 0),o([i({type:w,json:{read:!0,write:!0}})],y.prototype,"utilityNetworks",void 0),y=o([p("esri.WebMap")],y);const d=y;export{d as default};
