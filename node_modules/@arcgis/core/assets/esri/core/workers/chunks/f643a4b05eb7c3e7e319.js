"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[581],{563:(e,t,r)=>{r.d(t,{QueueProcessor:()=>u});var n=r(97768),_=r(74887),i=r(9775),s=r(32587),o=r(96211),a=r(44794);class c{constructor(e,t){this.item=e,this.controller=t,this.promise=null}}class u{constructor(e){this._schedule=null,this._deferreds=new s.A,this._controllers=new s.A,this._processingItems=new s.A,this._pausedSignal=(0,a.v)(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new i.A(e.peeker),this.process=e.process}destroy(){this.clear(),this._schedule=(0,n.xt)(this._schedule)}get updating(){return this.running}get length(){return this._processingItems.size+this._queue.length}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}abort(e){const t=this._controllers.get(e);t&&t.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach(t=>e.push(t)),this._controllers.clear(),e.forEach(e=>e.abort()),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach((t,r)=>e(r))}get(e){const t=this._deferreds.get(e);return t?t.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,t){const r=this.get(e);if(r)return r;const n=new AbortController;let i=null;t&&(i=(0,_.u7)(t,()=>n.abort()));const s=()=>{o.remove(),null!=i&&i.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},o=(0,_.NY)(n.signal,()=>{const t=this._processingItems.get(e);t&&t.controller.abort(),s(),a.reject((0,_.NK)())}),a=(0,_.Tw)();return this._deferreds.set(e,a),this._controllers.set(e,n),a.promise.then(s,s),this._queue.push(e),this._scheduleNext(),a.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){const e=this._queue.popLast();return e&&(this._deferreds.get(e)?.reject((0,_.NK)()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const t of e)this._queue.push(t.item),t.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._pausedSignal.value||this._schedule||(this._schedule=(0,o._)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(t))}_processError(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(t))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(null==e)return;let t;const r=new AbortController,n=new c(e,r);this._processingItems.set(e,n);try{t=this.process(e,r.signal)}catch(e){this._processError(n,e)}(0,_.$X)(t)?(n.promise=t,t.then(e=>this._processResult(n,e),e=>this._processError(n,e))):this._processResult(n,t)}}},32587:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(62788),_=r(95488);class i{constructor(e){this._observable=new _.I,this._map=new Map(e)}get size(){return(0,n.gc)(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const t=this._map.delete(e);return t&&this._observable.notify(),t}entries(){return(0,n.gc)(this._observable),this._map.entries()}forEach(e,t){(0,n.gc)(this._observable),this._map.forEach((r,n)=>e.call(t,r,n,this),t)}get(e){return(0,n.gc)(this._observable),this._map.get(e)}has(e){return(0,n.gc)(this._observable),this._map.has(e)}keys(){return(0,n.gc)(this._observable),this._map.keys()}set(e,t){return this._map.set(e,t),this._observable.notify(),this}values(){return(0,n.gc)(this._observable),this._map.values()}[Symbol.iterator](){return(0,n.gc)(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}},57733:(e,t,r)=>{let n;function _(e){const t=n.__externref_table_alloc();return n.__wbindgen_export_2.set(t,e),t}function i(e,t){try{return e.apply(this,t)}catch(e){const t=_(e);n.__wbindgen_exn_store(t)}}r.r(t),r.d(t,{ColumnDescriptor:()=>N,FieldMetadata:()=>D,GeometryInfo:()=>B,GeometryType:()=>j,MultiscaleGeometryField:()=>X,PageEncodingDescriptor:()=>$,ParquetChunk:()=>J,ParquetFile:()=>H,PrimaryGeometryField:()=>ee,QuantizedGeometryBuffer:()=>re,RangeProviderJs:()=>_e,RowGroup:()=>se,default:()=>le,enableTracing:()=>z,initSync:()=>ue});let s=null;function o(){return null!==s&&0!==s.byteLength||(s=new Uint8Array(n.memory.buffer)),s}let a=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});a.decode();const c=2146435072;let u=0;function l(e,t){return function(e,t){return u+=t,u>=c&&(a=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),a.decode(),u=t),a.decode(o().subarray(e,e+t))}(e>>>=0,t)}function g(e,t){return e>>>=0,o().subarray(e/1,e/1+t)}let p=null;function b(){return null!==p&&0!==p.byteLength||(p=new Uint32Array(n.memory.buffer)),p}function d(e,t){return e>>>=0,b().subarray(e/4,e/4+t)}let w=0;const f=new TextEncoder;function h(e,t,r){if(void 0===r){const r=f.encode(e),n=t(r.length,1)>>>0;return o().subarray(n,n+r.length).set(r),w=r.length,n}let n=e.length,_=t(n,1)>>>0;const i=o();let s=0;for(;s<n;s++){const t=e.charCodeAt(s);if(t>127)break;i[_+s]=t}if(s!==n){0!==s&&(e=e.slice(s)),_=r(_,n,n=s+3*e.length,1)>>>0;const t=o().subarray(_+s,_+n);s+=f.encodeInto(e,t).written,_=r(_,n,s,1)>>>0}return w=s,_}"encodeInto"in f||(f.encodeInto=function(e,t){const r=f.encode(e);return t.set(r),{read:e.length,written:r.length}});let y=null;function m(){return(null===y||!0===y.buffer.detached||void 0===y.buffer.detached&&y.buffer!==n.memory.buffer)&&(y=new DataView(n.memory.buffer)),y}function v(e){return null==e}const F="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{n.__wbindgen_export_6.get(e.dtor)(e.a,e.b)});function q(e,t,r,_){const i={a:e,b:t,cnt:1,dtor:r},s=(...e)=>{i.cnt++;const t=i.a;i.a=0;try{return _(t,i.b,...e)}finally{0===--i.cnt?(n.__wbindgen_export_6.get(i.dtor)(t,i.b),F.unregister(i)):i.a=t}};return s.original=i,F.register(s,i,i),s}function k(e,t){e>>>=0;const r=m(),_=[];for(let i=e;i<e+4*t;i+=4)_.push(n.__wbindgen_export_2.get(r.getUint32(i,!0)));return n.__externref_drop_slice(e,t),_}let S=null;function T(){return null!==S&&0!==S.byteLength||(S=new Int16Array(n.memory.buffer)),S}function z(){n.enableTracing()}let R=null;function I(){return null!==R&&0!==R.byteLength||(R=new Float64Array(n.memory.buffer)),R}function A(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`)}function x(e,t){const r=t(8*e.length,8)>>>0;return I().set(e,r/8),w=e.length,r}function C(e,t){const r=t(4*e.length,4)>>>0;for(let t=0;t<e.length;t++){const n=_(e[t]);m().setUint32(r+4*t,n,!0)}return w=e.length,r}function O(e,t){const r=t(1*e.length,1)>>>0;return o().set(e,r/1),w=e.length,r}function P(e,t){const r=t(4*e.length,4)>>>0;return b().set(e,r/4),w=e.length,r}function M(e,t,r){n.closure86_externref_shim(e,t,r)}function G(e,t,r,_){n.closure12_externref_shim(e,t,r,_)}const j=Object.freeze({Point:0,0:"Point",Polygon:1,1:"Polygon",Polyline:2,2:"Polyline",Multipoint:3,3:"Multipoint"}),L=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeBigInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],E="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_columndescriptor_free(e>>>0,1));class N{static __wrap(e){e>>>=0;const t=Object.create(N.prototype);return t.__wbg_ptr=e,E.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,E.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_columndescriptor_free(e,0)}name(){let e,t;try{const r=n.columndescriptor_name(this.__wbg_ptr);return e=r[0],t=r[1],l(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}physicalType(){let e,t;try{const r=n.columndescriptor_physicalType(this.__wbg_ptr);return e=r[0],t=r[1],l(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}logicalType(){const e=n.columndescriptor_logicalType(this.__wbg_ptr);let t;return 0!==e[0]&&(t=l(e[0],e[1]).slice(),n.__wbindgen_free(e[0],1*e[1],1)),t}encodings(){const e=n.columndescriptor_encodings(this.__wbg_ptr);var t=k(e[0],e[1]).slice();return n.__wbindgen_free(e[0],4*e[1],4),t}pageEncodings(){const e=n.columndescriptor_pageEncodings(this.__wbg_ptr);let t;return 0!==e[0]&&(t=k(e[0],e[1]).slice(),n.__wbindgen_free(e[0],4*e[1],4)),t}numValues(){return n.columndescriptor_numValues(this.__wbg_ptr)}compression(){let e,t;try{const r=n.columndescriptor_compression(this.__wbg_ptr);return e=r[0],t=r[1],l(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}compressedSize(){return n.columndescriptor_compressedSize(this.__wbg_ptr)}uncompressedSize(){return n.columndescriptor_uncompressedSize(this.__wbg_ptr)}nullCount(){const e=n.columndescriptor_nullCount(this.__wbg_ptr);return 0===e[0]?void 0:e[1]}distinctCount(){const e=n.columndescriptor_distinctCount(this.__wbg_ptr);return 0===e[0]?void 0:e[1]}minValue(){return n.columndescriptor_minValue(this.__wbg_ptr)}maxValue(){return n.columndescriptor_maxValue(this.__wbg_ptr)}}Symbol.dispose&&(N.prototype[Symbol.dispose]=N.prototype.free);const U="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_fieldmetadata_free(e>>>0,1));class D{static __wrap(e){e>>>=0;const t=Object.create(D.prototype);return t.__wbg_ptr=e,U.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,U.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_fieldmetadata_free(e,0)}get column(){return n.__wbg_get_fieldmetadata_column(this.__wbg_ptr)>>>0}set column(e){n.__wbg_set_fieldmetadata_column(this.__wbg_ptr,e)}get name(){let e,t;try{const r=n.fieldmetadata_name(this.__wbg_ptr);return e=r[0],t=r[1],l(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}get type(){const e=n.fieldmetadata_esri_type(this.__wbg_ptr);return L[e]}get physicalType(){const e=n.fieldmetadata_physical_type(this.__wbg_ptr);let t;return 0!==e[0]&&(t=l(e[0],e[1]).slice(),n.__wbindgen_free(e[0],1*e[1],1)),t}get logicalType(){const e=n.fieldmetadata_logical_type(this.__wbg_ptr);let t;return 0!==e[0]&&(t=l(e[0],e[1]).slice(),n.__wbindgen_free(e[0],1*e[1],1)),t}}Symbol.dispose&&(D.prototype[Symbol.dispose]=D.prototype.free);const W="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_geometryinfo_free(e>>>0,1));class B{static __wrap(e){e>>>=0;const t=Object.create(B.prototype);return t.__wbg_ptr=e,W.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,W.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_geometryinfo_free(e,0)}static new(e,t,r,_,i){A(_,ee);var s=_.__destroy_into_raw();const o=C(i,n.__wbindgen_malloc),a=w,c=n.geometryinfo_new(e,t,r,s,o,a);return B.__wrap(c)}}Symbol.dispose&&(B.prototype[Symbol.dispose]=B.prototype.free);const V="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_multiscalegeometryfield_free(e>>>0,1));class X{static __wrap(e){e>>>=0;const t=Object.create(X.prototype);return t.__wbg_ptr=e,V.register(t,t.__wbg_ptr,t),t}static __unwrap(e){return e instanceof X?e.__destroy_into_raw():0}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,V.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_multiscalegeometryfield_free(e,0)}get level(){return n.__wbg_get_multiscalegeometryfield_level(this.__wbg_ptr)}set level(e){n.__wbg_set_multiscalegeometryfield_level(this.__wbg_ptr,e)}static new(e,t,r,_){const i=h(t,n.__wbindgen_malloc,n.__wbindgen_realloc),s=w,o=x(r,n.__wbindgen_malloc),a=w,c=x(_,n.__wbindgen_malloc),u=w,l=n.multiscalegeometryfield_new(e,i,s,o,a,c,u);return X.__wrap(l)}has_field(e){const t=h(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=w;return 0!==n.multiscalegeometryfield_has_field(this.__wbg_ptr,t,r)}}Symbol.dispose&&(X.prototype[Symbol.dispose]=X.prototype.free);const Y="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_pageencodingdescriptor_free(e>>>0,1));class ${static __wrap(e){e>>>=0;const t=Object.create($.prototype);return t.__wbg_ptr=e,Y.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Y.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_pageencodingdescriptor_free(e,0)}pageType(){let e,t;try{const r=n.pageencodingdescriptor_pageType(this.__wbg_ptr);return e=r[0],t=r[1],l(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}encoding(){let e,t;try{const r=n.pageencodingdescriptor_encoding(this.__wbg_ptr);return e=r[0],t=r[1],l(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}count(){return n.pageencodingdescriptor_count(this.__wbg_ptr)}}Symbol.dispose&&($.prototype[Symbol.dispose]=$.prototype.free);const Z="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_parquetchunk_free(e>>>0,1));class J{static __wrap(e){e>>>=0;const t=Object.create(J.prototype);return t.__wbg_ptr=e,Z.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Z.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_parquetchunk_free(e,0)}size(){return n.parquetchunk_size(this.__wbg_ptr)>>>0}isEmpty(e){return 0!==n.parquetchunk_isEmpty(this.__wbg_ptr,e)}rowId(e){return n.parquetchunk_rowId(this.__wbg_ptr,e)}readX(e){const t=n.parquetchunk_readX(this.__wbg_ptr,e);return 0===t[0]?void 0:t[1]}readY(e){const t=n.parquetchunk_readY(this.__wbg_ptr,e);return 0===t[0]?void 0:t[1]}readCoords(e){const t=n.parquetchunk_readCoords(this.__wbg_ptr,e);let r;return 0!==t[0]&&(r=function(e,t){return e>>>=0,I().subarray(e/8,e/8+t)}(t[0],t[1]).slice(),n.__wbindgen_free(t[0],8*t[1],8)),r}readLengths(e){const t=n.parquetchunk_readLengths(this.__wbg_ptr,e);let r;return 0!==t[0]&&(r=d(t[0],t[1]).slice(),n.__wbindgen_free(t[0],4*t[1],4)),r}transformGeometry(e,t,r,_,i,s){A(e,re);const o=n.parquetchunk_transformGeometry(this.__wbg_ptr,e.__wbg_ptr,t,r,_,i,s);return 16777215===o?void 0:0!==o}boundsXMin(e){const t=n.parquetchunk_boundsXMin(this.__wbg_ptr,e);return 0===t[0]?void 0:t[1]}boundsYMin(e){const t=n.parquetchunk_boundsYMin(this.__wbg_ptr,e);return 0===t[0]?void 0:t[1]}boundsXMax(e){const t=n.parquetchunk_boundsXMax(this.__wbg_ptr,e);return 0===t[0]?void 0:t[1]}boundsYMax(e){const t=n.parquetchunk_boundsYMax(this.__wbg_ptr,e);return 0===t[0]?void 0:t[1]}readAttribute(e,t){return n.parquetchunk_readAttribute(this.__wbg_ptr,e,t)}}Symbol.dispose&&(J.prototype[Symbol.dispose]=J.prototype.free);const Q="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_parquetfile_free(e>>>0,1));class H{static __wrap(e){e>>>=0;const t=Object.create(H.prototype);return t.__wbg_ptr=e,Q.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Q.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_parquetfile_free(e,0)}static fromUrl(e,t,r,_){const i=h(e,n.__wbindgen_malloc,n.__wbindgen_realloc),s=w;let o=0;return v(_)||(A(_,B),o=_.__destroy_into_raw()),n.parquetfile_fromUrl(i,s,t,r,o)}static fromBinary(e,t){const r=O(e,n.__wbindgen_malloc),_=w;let i=0;return v(t)||(A(t,B),i=t.__destroy_into_raw()),n.parquetfile_fromBinary(r,_,i)}version(){return n.parquetfile_version(this.__wbg_ptr)}byteLength(){return n.parquetfile_byteLength(this.__wbg_ptr)}numRows(){return n.parquetfile_numRows(this.__wbg_ptr)>>>0}numFields(){return n.parquetfile_numFields(this.__wbg_ptr)>>>0}numColumns(){return n.parquetfile_numColumns(this.__wbg_ptr)>>>0}createdBy(){const e=n.parquetfile_createdBy(this.__wbg_ptr);let t;return 0!==e[0]&&(t=l(e[0],e[1]).slice(),n.__wbindgen_free(e[0],1*e[1],1)),t}keyValueMetadata(e){const t=h(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=w,_=n.parquetfile_keyValueMetadata(this.__wbg_ptr,t,r);let i;return 0!==_[0]&&(i=l(_[0],_[1]).slice(),n.__wbindgen_free(_[0],1*_[1],1)),i}keys(){const e=n.parquetfile_keys(this.__wbg_ptr);let t;return 0!==e[0]&&(t=k(e[0],e[1]).slice(),n.__wbindgen_free(e[0],4*e[1],4)),t}columnForFieldName(e){const t=h(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=w,_=n.parquetfile_columnForFieldName(this.__wbg_ptr,t,r);return 4294967297===_?void 0:_}fields(){const e=n.parquetfile_fields(this.__wbg_ptr);var t=k(e[0],e[1]).slice();return n.__wbindgen_free(e[0],4*e[1],4),t}rowGroups(){const e=n.parquetfile_rowGroups(this.__wbg_ptr);var t=k(e[0],e[1]).slice();return n.__wbindgen_free(e[0],4*e[1],4),t}ensureFields(e){const t=P(e,n.__wbindgen_malloc),r=w;return n.parquetfile_ensureFields(this.__wbg_ptr,t,r)}readFirstChunk(e){const t=P(e,n.__wbindgen_malloc),r=w;return n.parquetfile_readFirstChunk(this.__wbg_ptr,t,r)}readChunk(e,t,r,_,i){const s=P(r,n.__wbindgen_malloc),o=w;return n.parquetfile_readChunk(this.__wbg_ptr,e,t,s,o,_,i)}readChunksByRowId(e,t,r,_){const i=P(e,n.__wbindgen_malloc),s=w,o=P(t,n.__wbindgen_malloc),a=w;return n.parquetfile_readChunksByRowId(this.__wbg_ptr,i,s,o,a,r,_)}readAllChunks(e,t,r){const _=P(e,n.__wbindgen_malloc),i=w;return n.parquetfile_readAllChunks(this.__wbg_ptr,_,i,t,r)}queryZChunks(e,t,r,_){const i=P(t,n.__wbindgen_malloc),s=w;return n.parquetfile_queryZChunks(this.__wbg_ptr,e,i,s,r,_)}queryXZChunks(e,t,r){return n.parquetfile_queryXZChunks(this.__wbg_ptr,e,t,r)}}Symbol.dispose&&(H.prototype[Symbol.dispose]=H.prototype.free);const K="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_primarygeometryfield_free(e>>>0,1));class ee{static __wrap(e){e>>>=0;const t=Object.create(ee.prototype);return t.__wbg_ptr=e,K.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,K.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_primarygeometryfield_free(e,0)}static fromNative(e){const t=h(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=w,_=n.primarygeometryfield_fromNative(t,r);return ee.__wrap(_)}static fromWkb(e){const t=h(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=w,_=n.primarygeometryfield_fromWkb(t,r);return ee.__wrap(_)}static fromLocation(e,t){const r=h(e,n.__wbindgen_malloc,n.__wbindgen_realloc),_=w,i=h(t,n.__wbindgen_malloc,n.__wbindgen_realloc),s=w,o=n.primarygeometryfield_fromLocation(r,_,i,s);return ee.__wrap(o)}}Symbol.dispose&&(ee.prototype[Symbol.dispose]=ee.prototype.free);const te="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_quantizedgeometrybuffer_free(e>>>0,1));class re{static __wrap(e){e>>>=0;const t=Object.create(re.prototype);return t.__wbg_ptr=e,te.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,te.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_quantizedgeometrybuffer_free(e,0)}static new(){const e=n.quantizedgeometrybuffer_new();return re.__wrap(e)}readCoordsUnsafe(){return n.quantizedgeometrybuffer_readCoordsUnsafe(this.__wbg_ptr)}readLengthsUnsafe(){return n.quantizedgeometrybuffer_readLengthsUnsafe(this.__wbg_ptr)}}Symbol.dispose&&(re.prototype[Symbol.dispose]=re.prototype.free);const ne="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_rangeproviderjs_free(e>>>0,1));class _e{static __wrap(e){e>>>=0;const t=Object.create(_e.prototype);return t.__wbg_ptr=e,ne.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ne.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_rangeproviderjs_free(e,0)}static new(e,t){const r=n.rangeproviderjs_new(e,t);return _e.__wrap(r)}static withFetch(){const e=n.rangeproviderjs_withFetch();return _e.__wrap(e)}}Symbol.dispose&&(_e.prototype[Symbol.dispose]=_e.prototype.free);const ie="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_rowgroup_free(e>>>0,1));class se{static __wrap(e){e>>>=0;const t=Object.create(se.prototype);return t.__wbg_ptr=e,ie.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ie.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_rowgroup_free(e,0)}columnDescriptorForAttribute(e){const t=n.rowgroup_columnDescriptorForAttribute(this.__wbg_ptr,e);return N.__wrap(t)}}Symbol.dispose&&(se.prototype[Symbol.dispose]=se.prototype.free);const oe=new Set(["basic","cors","default"]);function ae(){const e={wbg:{}};return e.wbg.__wbg_aborted_bbd6fc8f83561eda=function(e){return e.aborted},e.wbg.__wbg_apply_dc50eb58583d2a57=function(){return i(function(e,t,r){return e.apply(t,r)},arguments)},e.wbg.__wbg_call_13410aac570ffff7=function(){return i(function(e,t){return e.call(t)},arguments)},e.wbg.__wbg_call_a5400b25a865cfd8=function(){return i(function(e,t,r){return e.call(t,r)},arguments)},e.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,t){let r,_;try{r=e,_=t,console.error(l(e,t))}finally{n.__wbindgen_free(r,_,1)}},e.wbg.__wbg_fieldmetadata_new=function(e){return D.__wrap(e)},e.wbg.__wbg_get_458e874b43b18b25=function(){return i(function(e,t){return Reflect.get(e,t)},arguments)},e.wbg.__wbg_length_555ae304a7c78975=function(e){return e.length},e.wbg.__wbg_length_6bb7e81f9d7713e4=function(e){return e.length},e.wbg.__wbg_multiscalegeometryfield_unwrap=function(e){return X.__unwrap(e)},e.wbg.__wbg_new_2e3c58a15f39f5f9=function(e,t){try{var r={a:e,b:t};return new Promise((e,t)=>{const n=r.a;r.a=0;try{return G(n,r.b,e,t)}finally{r.a=n}})}finally{r.a=r.b=0}},e.wbg.__wbg_new_638ebfaedbf32a5e=function(e){return new Uint8Array(e)},e.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},e.wbg.__wbg_newnoargs_254190557c45b4ec=function(e,t){return new Function(l(e,t))},e.wbg.__wbg_newwithlength_c2868113efe93526=function(e){return new Array(e>>>0)},e.wbg.__wbg_pageencodingdescriptor_new=function(e){return $.__wrap(e)},e.wbg.__wbg_parquetchunk_new=function(e){return J.__wrap(e)},e.wbg.__wbg_parquetfile_new=function(e){return H.__wrap(e)},e.wbg.__wbg_prototypesetcall_3d4a26c1ed734349=function(e,t,r){Uint8Array.prototype.set.call(g(e,t),r)},e.wbg.__wbg_prototypesetcall_c805289d23423a87=function(e,t,r){Uint32Array.prototype.set.call(d(e,t),r)},e.wbg.__wbg_queueMicrotask_25d0739ac89e8c88=function(e){queueMicrotask(e)},e.wbg.__wbg_queueMicrotask_4488407636f5bf24=function(e){return e.queueMicrotask},e.wbg.__wbg_resolve_4055c623acdd6a1b=function(e){return Promise.resolve(e)},e.wbg.__wbg_rowgroup_new=function(e){return se.__wrap(e)},e.wbg.__wbg_set_90f6c0f7bd8c0415=function(e,t,r){e[t>>>0]=r},e.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,t){const r=h(t.stack,n.__wbindgen_malloc,n.__wbindgen_realloc),_=w;m().setInt32(e+4,_,!0),m().setInt32(e+0,r,!0)},e.wbg.__wbg_static_accessor_GLOBAL_8921f820c2ce3f12=function(){const e="undefined"==typeof global?null:global;return v(e)?0:_(e)},e.wbg.__wbg_static_accessor_GLOBAL_THIS_f0a4409105898184=function(){const e="undefined"==typeof globalThis?null:globalThis;return v(e)?0:_(e)},e.wbg.__wbg_static_accessor_SELF_995b214ae681ff99=function(){const e="undefined"==typeof self?null:self;return v(e)?0:_(e)},e.wbg.__wbg_static_accessor_WINDOW_cde3890479c675ea=function(){const e="undefined"==typeof window?null:window;return v(e)?0:_(e)},e.wbg.__wbg_then_b33a773d723afa3e=function(e,t,r){return e.then(t,r)},e.wbg.__wbg_then_e22500defe16819f=function(e,t){return e.then(t)},e.wbg.__wbg_valueOf_f1ef20623c7bdd1c=function(e){return e.valueOf()},e.wbg.__wbg_wbindgencbdrop_eb10308566512b88=function(e){const t=e.original;return 1==t.cnt--&&(t.a=0,!0)},e.wbg.__wbg_wbindgenisfunction_8cee7dce3725ae74=function(e){return"function"==typeof e},e.wbg.__wbg_wbindgenisundefined_c4b71d073b92f3c5=function(e){return void 0===e},e.wbg.__wbg_wbindgennumberget_f74b4c7525ac05cb=function(e,t){const r="number"==typeof t?t:void 0;m().setFloat64(e+8,v(r)?0:r,!0),m().setInt32(e+0,!v(r),!0)},e.wbg.__wbg_wbindgenthrow_451ec1a8469d7eb6=function(e,t){throw new Error(l(e,t))},e.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,t){return l(e,t)},e.wbg.__wbindgen_cast_59b536ec5375efa9=function(e,t){return q(e,t,85,M)},e.wbg.__wbindgen_cast_77bc3e92745e9a35=function(e,t){var r=g(e,t).slice();return n.__wbindgen_free(e,1*t,1),r},e.wbg.__wbindgen_cast_7c316abdc43840a3=function(e,t){return d(e,t)},e.wbg.__wbindgen_cast_9ae0607507abb057=function(e){return e},e.wbg.__wbindgen_cast_b4c60c1010b00353=function(e,t){var r=k(e,t).slice();return n.__wbindgen_free(e,4*t,4),r},e.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},e.wbg.__wbindgen_cast_e47ceb6027f5c92c=function(e,t){return function(e,t){return e>>>=0,T().subarray(e/2,e/2+t)}(e,t)},e.wbg.__wbindgen_init_externref_table=function(){const e=n.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},e}function ce(e,t){return n=e.exports,le.__wbindgen_wasm_module=t,y=null,R=null,S=null,p=null,s=null,n.__wbindgen_start(),n}function ue(e){if(void 0!==n)return n;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module:e}=e):console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const t=ae();return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),ce(new WebAssembly.Instance(e,t),e)}async function le(e){if(void 0!==n)return n;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module_or_path:e}=e):console.warn("using deprecated parameters for the initialization function; pass a single object instead"));const t=ae();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:_}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if(!e.ok||!oe.has(e.type)||"application/wasm"===e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}(await e,t);return ce(r,_)}},70581:(e,t,r)=>{r.d(t,{DV:()=>b,Hj:()=>w,hD:()=>d});var n=r(78888),_=r(49186),i=(r(44208),r(563)),s=r(84952),o=r(2741);let a=null;async function c(){return a||(a=async function(){const e=await Promise.resolve().then(r.bind(r,57733));return await e.default({module_or_path:(0,o.s)("esri/libs/parquet/pkg/bundle_bg.wasm")}),e}()),a}var u=r(57733);const l=new i.QueueProcessor({concurrency:8,process:async e=>{const{data:t}=await(0,n.A)(e.url,e.options);return t}}),g=e=>async function(t,r,n,_){const i=e?.(),s=i??{};return await l.push({url:t,options:{responseType:"array-buffer",query:s,headers:{range:`bytes=${r}-${n}`}}})},p=e=>async function(t){if((0,s.w8)(t)){const{data:e}=await(0,n.A)(t,{responseType:"blob"});return e.size}const{data:r}=await(0,n.A)(t,{responseType:"native",method:"head",query:e?.()}),_=r.headers.get("Content-Length");if(null==_)throw new Error("Unable to parse content length");return parseInt(_,10)};async function b(e,t={}){const{ParquetFile:r}=await c(),n=g(t.getCustomParameters),i=p(t.getCustomParameters),s=t.geometryInfo?function(e,t){const r=e.spatialReference.wkid,n=t.wkid;if(!r||!n)throw new _.A("parquet","Unable to create ParquetFile, in and out wkid must be specified");const i=function(e){switch(e){case"esriGeometryPoint":return u.GeometryType.Point;case"esriGeometryPolygon":return u.GeometryType.Polygon;case"esriGeometryPolyline":return u.GeometryType.Polyline;case"esriGeometryMultipoint":return u.GeometryType.Multipoint;default:throw new _.A("parquet",`Found unexpected GeometryType: ${e}`)}}(e.geometryType),s=function(e){switch(e.encoding.type){case"wkb":return u.PrimaryGeometryField.fromWkb(e.encoding.field);case"location":{const{yField:t,xField:r}=e.encoding;return u.PrimaryGeometryField.fromLocation(t,r)}}}(e),o=[];if("xz"===e.displayOptimization?.mode){const t=e.displayOptimization.multiscale;for(const e of t.levels??[]){const[t,r]=e.transform.translate,[n,_]=e.transform.scale,i=new Float64Array([t,r]),s=new Float64Array([n,_]);o.push(u.MultiscaleGeometryField.new(e.level,e.column,i,s))}}return u.GeometryInfo.new(i,r,n,s,o)}(t.geometryInfo,t.outSpatialReference??t.geometryInfo.spatialReference):null;return r.fromUrl(e,n,i,s)}function d(e){const t=e.keyValueMetadata("geo");return null!=t?JSON.parse(t):null}function w(e){const t=e.keyValueMetadata("esri");return null!=t?JSON.parse(t):null}}}]);